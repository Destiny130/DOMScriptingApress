<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8" />
    <title>DOM Scripting Apress</title>
    <style>
        ol li {
            padding:4px;
        }
    </style>
</head>
<body>
    <h1>Home</h1>
    <ol id="chapterList"></ol>
    <script>
        window.onload = function () {
            chapterNum = 13;
            (function () {
                var i = 1, chapterListInner = '';
                for (; i < chapterNum; i++) {
                    var space = i < 10 ? "&nbsp&nbsp" : "";
                    chapterListInner += '<li id="chapter' + i + '">Chapter ' + space + i + '</li><ul id="chapter' + i + 'List" class="hide"></ul>';
                }
                var chapterList = document.getElementById("chapterList");
                if (chapterList) chapterList.innerHTML = chapterListInner;
            })();
            CheckDetail();
        }

        function CheckDetail() {
            (function () {
                for (var i = 1; i < chapterNum; i++) {
                    var chapteri = document.getElementById("chapter" + i);
                    chapteri.setAttribute("onclick", "Show(this, " + i + ")");
                    //console.log(i + ", " + chapteri.getAttribute("onclick"));
                }
            })();
        }

        function Show(obj, i) {
            var chapterList = obj.nextSibling;
            //console.log(chapterList);
            var ulInner = '';
            switch (i) {
                case 1:
                    ulInner += '<li><a href="https://www.baidu.com">test</a></li>';
                    break;
                case 2:
                    break;
                default:
                    break;
            }
            chapterList.innerHTML = ulInner;
            chapterList.style.display = "block";
            obj.setAttribute("onclick", "Toggle(this.nextSibling)");
        }
        
        function Toggle(obj) {  //Define a toggle.
            if (obj.style.display == 'none')
                obj.style.display = "block";
            else
                obj.style.display = "none";
        }
    </script>
</body>
</html>
